# 手环运动数据分类

## 使用方式

1. 运行`run.sh`，这个脚本是在按不同的超参设置训练模型。

2. 训练结束后运行`python3 summarize.py`，该脚本能够统计训练时的输出数据，并输出一个按正确率或`f1`值排序的表格。

3. 选取其中效果最好的一组超参数，通过观看其输出日志得到需要加载的最佳模型。

    编辑`i-predict.sh`，修改其中的`BEST_MODEL_PATH`变量，使其为最佳模型的路径。随后运行`i-predict.sh`，可以打开一个交互式的终端界面，在该界面中可以输入数据，检查模型的分类效果。

    在交互式终端中，默认一行是一组数据，可以依次输入，表示一个序列数据。例如如果有数据
    
    ```python
    [[100, 80, 0], [120, 90, 0], [90, 75, 0], [105, 80, 0], [100, 90, 1]]
    ```

    在交互式命令行中应该依次输入：

    ```txt
    > 100,80,0
    > 120,90,0
    > 90,75,0
    > 105,80,0
    > 100,90,1
    ```

    随后输入：

    ```txt
    > .end
    ```

    表示该序列输入完成，此时模型便会对该序列进行预测，并输出结果，例：

    ```txt
    cls result: xxxx
    > 
    ```

    输入`.end`后之前输入的数据都会被删除，然后用户可以继续输入下一个数据序列。

    为方便使用，可以先将数据保存到一个文件，再在交互式终端使用`.read`命令读取，省去复制粘贴的过程。例如新建一个文件`data.txt`，其中写入内容：

    ```txt
    100,80,0
    120,90,0
    90,75,0
    105,80,0
    100,90,1
    ```

    这样交互式终端中只需输入：

    ```txt
    > .read data.txt
    > .end
    ```

    即可等价完成上文的数据输入和预测。

    如果要退出交互式终端，输入`.exit`：

    ```txt
    > .exit
    exiting...
    ```
